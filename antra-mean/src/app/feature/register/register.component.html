<div class="container">
	<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
		<div class="form-group">
			<label class="label-name">
				<span class="required">*</span>User Name:
			</label>
			<input
				nz-input
				type="text"
				class="form-control"
				formControlName="userName"
				[nzStatus]="
					registerForm.get('userName')!.invalid &&
					registerForm.get('userName')!.touched
						? 'error'
						: ''
				"
				required
			/>
			<ng-container
				*ngIf="
					registerForm.get('userName')!.invalid &&
					registerForm.get('userName')!.touched
				"
			>
				<small nz-typography nzType="danger" class="error-message">
					<ng-container
						*ngIf="
							registerForm.get('userName')!.hasError('pattern') &&
							!registerForm
								.get('userName')!
								.hasError('usernameExists')
						"
					>
						Please enter a valid name (letters and spaces only)
					</ng-container>
					<ng-container
						*ngIf="
							registerForm
								.get('userName')!
								.hasError('usernameExists')
						"
					>
						Username already taken
					</ng-container>
				</small>
			</ng-container>
		</div>
		<div class="form-group">
			<label class="label-name">
				<span class="required">*</span>Password:
			</label>
			<div class="form-control password-form-control">
				<input
					[type]="passwordVisible ? 'text' : 'password'"
					nz-input
					class="password-input"
					type="password"
					formControlName="password"
					[nzStatus]="
						registerForm.get('password')!.invalid &&
						registerForm.get('password')!.touched
							? 'error'
							: ''
					"
					required
				/>
				<span
					nz-icon
					[nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
					(click)="passwordVisible = !passwordVisible"
					class="password-icon"
				></span>
				<ng-container
					*ngIf="
						registerForm.get('password')!.invalid &&
						registerForm.get('password')!.touched
					"
				>
					<small nz-typography nzType="danger" class="error-message"
						>Please enter a password with at least 8 characters,
						including at least one letter and one digit</small
					></ng-container
				>
			</div>
		</div>
		<div class="form-group">
			<label class="label-name">
				<span class="required">*</span>Confrim Passowrd:
			</label>
			<div class="form-control password-form-control">
				<input
					[type]="passwordVisible ? 'text' : 'password'"
					nz-input
					type="password"
					class="password-input"
					formControlName="confirmPassword"
					[nzStatus]="
						registerForm.get('confirmPassword')!.invalid &&
						registerForm.get('confirmPassword')!.touched
							? 'error'
							: ''
					"
					required
				/>
				<span
					nz-icon
					[nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
					(click)="passwordVisible = !passwordVisible"
					class="password-icon"
				></span>
				<ng-container
					*ngIf="
						registerForm.get('confirmPassword')!.invalid &&
						registerForm.get('confirmPassword')!.touched
					"
				>
					<small nz-typography nzType="danger" class="error-message"
						>Passwords don't match</small
					></ng-container
				>
			</div>
		</div>
		<div class="form-group">
			<label class="label-name">
				<span class="required">*</span>Email:
			</label>
			<input
				nz-input
				type="email"
				class="form-control"
				formControlName="userEmail"
				[nzStatus]="
					registerForm.get('userEmail')!.invalid &&
					registerForm.get('userEmail')!.touched
						? 'error'
						: ''
				"
				required
			/>
			<ng-container
				*ngIf="
					registerForm.get('userEmail')!.invalid &&
					registerForm.get('userEmail')!.touched
				"
			>
				<small nz-typography nzType="danger" class="error-message">
					<ng-container
						*ngIf="
							registerForm
								.get('userEmail')!
								.hasError('pattern') &&
							!registerForm
								.get('userEmail')!
								.hasError('emailExists')
						"
					>
						Please enter a valid name (letters and spaces only)
					</ng-container>
					<ng-container
						*ngIf="
							registerForm.get('email')!.hasError('emailExists')
						"
					>
						Email already taken
					</ng-container>
				</small>
			</ng-container>
		</div>
		<div class="form-group">
			<label class="label-name">
				<span class="required">*</span>Phone Number:
			</label>
			<input
				nz-input
				type="text"
				class="form-control"
				formControlName="phoneNumber"
				[nzStatus]="
					registerForm.get('phoneNumber')!.invalid &&
					registerForm.get('phoneNumber')!.touched
						? 'error'
						: ''
				"
				required
			/>
			<ng-container
				*ngIf="
					registerForm.get('phoneNumber')!.invalid &&
					registerForm.get('phoneNumber')!.touched
				"
			>
				<small nz-typography nzType="danger" class="error-message"
					>Please enter a valid phone number (10 digits without the
					area code)</small
				></ng-container
			>
		</div>
		<div class="form-group">
			<label class="label-name">
				<span class="required">*</span>Gender:
			</label>
			<nz-select
				class="gender-select"
				formControlName="gender"
				[nzStatus]="
					registerForm.get('gender')!.invalid &&
					registerForm.get('gender')!.touched
						? 'error'
						: ''
				"
			>
				<nz-option nzValue="Male" nzLabel="Male"></nz-option>
				<nz-option nzValue="Female" nzLabel="Female"></nz-option>
				<nz-option nzValue="Other" nzLabel="Other"></nz-option>
			</nz-select>
			<ng-container
				*ngIf="
					registerForm.get('gender')!.invalid &&
					registerForm.get('gender')!.touched
				"
			>
				<small nz-typography nzType="danger" class="error-message"
					>Please choose gender</small
				></ng-container
			>
		</div>
		<div class="form-group">
			<label class="label-name">
				<span class="required">*</span>Age:
			</label>
			<input
				nz-input
				type="number"
				class="form-control"
				formControlName="age"
				[nzStatus]="
					registerForm.get('age')!.invalid &&
					registerForm.get('age')!.touched
						? 'error'
						: ''
				"
				required
			/>
			<ng-container
				*ngIf="
					registerForm.get('age')!.invalid &&
					registerForm.get('age')!.touched
				"
			>
				<small nz-typography nzType="danger" class="error-message"
					>Please enter age</small
				></ng-container
			>
		</div>
		<div class="form-group">
			<div class="spacer"></div>
			<div class="checkbox-group">
				<span class="required">* </span>
				<label
					nz-checkbox
					class="agree-checkbox"
					formControlName="agreed"
				></label>
				<label>
					<span>
						I have read the
						<a>agreement</a>
					</span>
				</label>
			</div>
		</div>
		<div class="form-group">
			<div class="spacer"></div>
			<button
				[disabled]="registerForm.status === 'INVALID'"
				nz-button
				nzType="primary"
			>
				Register
			</button>
		</div>
	</form>
</div>
