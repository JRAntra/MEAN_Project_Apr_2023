<div class="profile__container">
  <div class="profile__self">
    <div class="profile__avatar">
      <img [src]="avatarUrl" alt="User Avatar" class="profile__avatar-image">
    </div>

    <form [formGroup]="profileForm">
      <p-card>
        <div class="p-inputgroup">
          <span class="p-button">
            <i class="pi pi-upload"></i>
            <input type="file" formControlName="avatar" (change)="onFileChanged($event)" id="avatar" [disabled]="!editing">
          </span>
          <button pButton type="button" (click)="saveAvatar()" [disabled]="!isAvatarChanged">Save Avatar</button>
        </div>
      </p-card>

      <p-card>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon">
            <i class="pi pi-user"></i>
          </span>
          <input type="text" formControlName="userName" id="userName" [disabled]="!editing" class="p-inputtext">
        </div>
      </p-card>

      <p-card>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon">
            <i class="pi pi-envelope"></i>
          </span>
          <input type="email" formControlName="userEmail" id="userEmail" [disabled]="!editing" class="p-inputtext">
        </div>
      </p-card>

      <p-card>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon">
            <i class="pi pi-calendar"></i>
          </span>
          <input type="number" formControlName="age" id="age" min="1" [disabled]="!editing" class="p-inputtext">
        </div>
      </p-card>

      <p-card>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon">
            <i class="pi pi-users"></i>
          </span>
          <p-dropdown formControlName="gender" id="gender" [options]="genderOptions" [disabled]="!editing" class="p-inputtext"></p-dropdown>
        </div>
      </p-card>

      <p-card>
        <div class="p-inputgroup">
          <span class="p-inputgroup-addon">
            <i class="pi pi-lock"></i>
          </span>
          <input [type]="isPasswordVisible ? 'text' : 'password'" formControlName="password" id="password" #passwordInput [disabled]="!editing" class="p-inputtext">
          <button pButton type="button" (click)="togglePasswordVisibility()" [disabled]="!editing" class="p-button-outlined p-button-secondary">
            <i class="pi pi-eye"></i>
          </button>
        </div>
      </p-card>

      <!-- Edit and Save buttons -->
      <div>
        <button pButton type="button" (click)="toggleEdit()" *ngIf="!editing" class="p-button p-button-primary">
          <i class="pi pi-pencil"></i>
          Edit
        </button>
        <button pButton type="button" (click)="saveProfile()" *ngIf="editing" class="p-button p-button-success">
          <i class="pi pi-check"></i>
          Save
        </button>
      </div>
    </form>

    <!-- Icons -->
    <div class="profile__achievement">
      <div>
        <i class="pi pi-file" style="font-size: 5em" pBadge value="22"></i>
        <i class="pi pi-heart-fill" style="font-size: 5em; color: red" pBadge value="12"></i>
      </div>
    </div>
  </div>
</div>
