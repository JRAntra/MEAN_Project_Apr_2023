<p-card>
    <div class="form--container">
        <div class="username--container">
            <span class="p-float-label">
                <input pInputText id="username" [(ngModel)]="register.username" />
                <label htmlFor="username" >Username</label>
            </span>
        </div>
        
    
        <div class="email--container">
            <span class="p-float-label">
                <p-overlayPanel #overlayEmail>
                    <div *ngIf="email.value !== '' && email.untouched && email.invalid">Please enter a valid email!</div>
                </p-overlayPanel>
                <input pInputText id="email" 
                    [(ngModel)]="register.email"
                    [email] = "true"
                    #email="ngModel" 
                    [required] = "true" 
                    [minlength]= 5
                    (onFocus)="overlayEmail.show($event)"
                    (onBlur)="overlayEmail.hide()"/>
                <label htmlFor="email">Email</label>
            </span>
        </div>
        
        <div class="password--container">
            <span class="p-float-label">
                <p-overlayPanel #overlayPassword appendTo="body">
                    <div class="validatePassword--overlay--container">
                        <ng-template #passwordRequirement>
                            <div class="validatePassword--overlay">Password Requirements:</div>
                        </ng-template>
                        <ng-template #checkmark>
                            <i class="pi pi-check-circle"></i>
                        </ng-template>
    
                        <div *ngIf="register.password !== '' && register.validatePassword(register.password).valid === false; else passwordRequirement" class="validatePassword--overlay">
                            Please Enter a valid passowrd
                        </div>
    
                        <div class="validatePassword--overlay">
                            <i *ngIf="register.validatePassword(register.password).digit === false; else checkmark" class="pi pi-times-circle"></i>
                            <span class="passwordRequirement">0-9</span>
                        </div>
                        
                        <div class="validatePassword--overlay">
                            <i *ngIf="register.validatePassword(register.password).uppercase === false; else checkmark" class="pi pi-times-circle"></i>
                            <span class="passwordRequirement">A-Z</span>
                        </div>
    
                        <div class="validatePassword--overlay">
                            <i *ngIf="register.validatePassword(register.password).lowercase === false; else checkmark" class="pi pi-times-circle"></i>
                            <span class="passwordRequirement">a-z</span>
                        </div>
                    </div>
                </p-overlayPanel>
                
                <p-password id="password"
                            [(ngModel)]="register.password" 
                            [toggleMask]="true" 
                            [feedback]="false"
                            [minlength]="8" [maxLength]="15" 
                            [required]="true"
                            (onFocus)="overlayPassword.toggle($event)"
                            (onBlur)="overlayPassword.toggle($event)"
                            [style]="{'width':'100%'}"
                            [inputStyle]="{'width':'100%'}">
                </p-password>
                <label for="password">Password</label>
            </span>
        </div>
    
        <div class="confirmPassword--container">
            <span class="p-float-label">
                <p-overlayPanel #overlayConfrimPassword>
                    <div *ngIf="register.password !== confirmPassword.value">The password does not match!</div>
                </p-overlayPanel>
                <p-password id="confirmPassword"
                            #confirmPassword
                            [(ngModel)]="register.confirmPassword" 
                            [toggleMask]="true" 
                            [feedback]="false"
                            [minlength]="8" [maxLength]="15" 
                            [required]="true"
                            (onFocus)="overlayConfrimPassword.show($event)"
                            (onBlur)="overlayConfrimPassword.hide()"
                            [style]="{'width':'100%'}"
                            [inputStyle]="{'width':'100%'}">
                </p-password>
                <label for="password">Password</label>
            </span>
        </div>

        <p-button label="Submit" [loading]="loading" (click)="load()"></p-button>

    </div>

    
</p-card>

